<div class="container">
  <div class="image-container"></div>
  <div class="form-container">
    <h1>üÖø EASY PARK</h1>


    <div *ngIf="registerSuccess" class="alert alert-success d-flex align-items-center" role="alert">
      <i class="bi bi-check-circle-fill me-2"></i>
      <div>Registro exitoso, redirigiendo...</div>
    </div>


    <div *ngIf="registerError" class="alert alert-danger d-flex align-items-center" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>
      <div>Correo o contrase√±a incorrectos.</div>
    </div>

    <div *ngIf="register.invalid && register.touched" class="alert alert-warning d-flex align-items-center"
      role="alert">
      <i class="bi bi-exclamation-circle-fill me-2"></i>
      <div>Por favor, complete todos los campos.</div>
    </div>

    <form [formGroup]="register" (ngSubmit)="handleSubmit()">
      <label for="full_name">Nombre Completo</label>
      <input type="text" id="full_name" placeholder="Ingrese su nombre" formControlName="full_name">
      <div *ngIf="register.get('full_name')?.invalid && register.get('full_name')?.touched" class="error">
        <span *ngIf="register.get('full_name')?.errors?.['required']">‚ö† El nombre es obligatorio. *</span>
      </div>

      <label for="email">Correo Electr√≥nico</label>
      <input type="email" id="email" placeholder="Ingrese su correo" formControlName="email">
      <div *ngIf="register.get('email')?.invalid && register.get('email')?.touched" class="error">
        <span *ngIf="register.get('email')?.errors?.['required']">‚ö† El correo es obligatorio. *</span>
        <span *ngIf="register.get('email')?.errors?.['email'] || register.get('email')?.errors?.['pattern']">Ingrese un
          correo v√°lido (ejemplo&#64;dominio.com).</span>
      </div>

      <label for="telefono">Tel√©fono</label>
      <input type="text" id="telefono" placeholder="Ingrese su tel√©fono" formControlName="telefono">
      <div *ngIf="register.get('telefono')?.invalid && register.get('telefono')?.touched" class="error">
        <span *ngIf="register.get('telefono')?.errors?.['required']">‚ö† El tel√©fono es obligatorio. *</span>
        <span *ngIf="register.get('telefono')?.errors?.['pattern']">‚ö† El tel√©fono debe contener solo n√∫meros y m√°ximo 10
          d√≠gitos. *</span>
      </div>

      <label for="password">Contrase√±a</label>
      <input type="password" id="password" placeholder="Ingrese su contrase√±a" formControlName="password">
      <div *ngIf="register.get('password')?.invalid && register.get('password')?.touched" class="error">
        <span *ngIf="register.get('password')?.errors?.['required']">‚ö† La contrase√±a es obligatoria.</span>
      </div>

      <label for="confirmPassword">Confirmaci√≥n de contrase√±a</label>
      <input type="password" id="confirmPassword" placeholder="Ingrese nuevamente su contrase√±a"
        formControlName="confirmPassword">
      <div *ngIf="register.get('confirmPassword')?.invalid && register.get('confirmPassword')?.touched" class="error">
        <span *ngIf="register.get('confirmPassword')?.errors?.['required']"> ‚ö† La confirmaci√≥n de contrase√±a es
          obligatoria. *</span>
      </div>

      <!-- Mensaje de error si las contrase√±as no coinciden -->
      <div *ngIf="register.errors?.['passwordMismatch'] && register.touched" class="error">
        <span> ‚ö† Las contrase√±as no coinciden. *</span>
      </div>

      <button type="submit">Registrarse</button>

      <a [routerLink]="'/login'">¬øYa tienes una cuenta? Inicia sesi√≥n</a>
    </form>
  </div>
</div>